# Application
NODE_ENV=development
PORT=3000
APP_NAME=CollectorsNexus
APP_VERSION=1.0.0

# MongoDB
MONGODB_URI=mongodb://localhost:27017/collectors_nexus
MONGODB_DATABASE=collectors_nexus
MONGODB_USERNAME=
MONGODB_PASSWORD=
MONGODB_AUTH_SOURCE=admin

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TLS=false

# API Keys (add your actual keys in .env, not here)
EBAY_API_KEY=your_ebay_api_key
EBAY_API_SECRET=your_ebay_api_secret
EBAY_API_ENDPOINT=https://api.ebay.com

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100  # Max requests per window

# CORS
CORS_ORIGIN=http://localhost:3001
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Logging
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_DIRECTORY=logs

# JWT (for future authentication)
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# File Uploads
MAX_FILE_SIZE=10485760  # 10MB
UPLOAD_DIRECTORY=uploads

# Data Processing
DATA_PROCESSING_BATCH_SIZE=100
DATA_PROCESSING_MAX_RETRIES=3

# MTG Data Sources Configuration
# -----------------------------------------------------------------------------
# Default data source to use (scryfall, mtgjson, or cardtrader)
MTG_SOURCE_DEFAULT=scryfall

# Enable/disable specific data sources (true/false)
ENABLE_SCRYFALL=true
ENABLE_MTGJSON=true
ENABLE_CARDTRADER=false # Requires clientId and clientSecret

# Scryfall API Configuration
# Docs: https://scryfall.com/docs/api
SCRYFALL_API_BASE_URL=https://api.scryfall.com
SCRYFALL_BULK_DATA_ENDPOINT=/bulk-data
SCRYFALL_RATE_LIMIT_REQUESTS=10   # Requests
SCRYFALL_RATE_LIMIT_SECONDS=1     # Per seconds

# MTGJSON API Configuration
# Docs: https://mtgjson.com/api/v5/
MTGJSON_API_BASE_URL=https://mtgjson.com/api/v5
MTGJSON_API_KEY=your_mtgjson_api_key_optional # Optional, for higher rate limits if you have one
MTGJSON_DOWNLOAD_ENDPOINT=/AllPrintings.json  # Example: /AllPrintings.json, /AtomicCards.json
MTGJSON_SETLIST_ENDPOINT=/SetList.json
MTGJSON_RATE_LIMIT_REQUESTS=10    # Requests
MTGJSON_RATE_LIMIT_SECONDS=60     # Per seconds (MTGJSON has stricter limits)
# MTGJSON_UPDATE_WEBHOOK_SECRET= # This was in the previous version, kept commented out for reference

# CardTrader API Configuration
# Docs: https://api.cardtrader.com/api-docs
# Requires OAuth2 Client Credentials
CARDTRADER_API_BASE_URL=https://api.cardtrader.com/api/v2
CARDTRADER_AUTH_ENDPOINT=https://api.cardtrader.com/oauth/token
CARDTRADER_CLIENT_ID=your_cardtrader_client_id
CARDTRADER_CLIENT_SECRET=your_cardtrader_client_secret
CARDTRADER_MARKETPLACE_ID=1 # 1 for Magic: The Gathering
CARDTRADER_RATE_LIMIT_REQUESTS=60 # Requests
CARDTRADER_RATE_LIMIT_SECONDS=60  # Per seconds (i.e., per minute)

# Sync Intervals (in milliseconds)
MTG_FULL_SYNC_INTERVAL=86400000  # 24 hours (e.g., 24 * 60 * 60 * 1000)
MTG_PRICE_SYNC_INTERVAL=43200000 # 12 hours (e.g., 12 * 60 * 60 * 1000)

# Data Processing Options for MTG Sources
MTG_BATCH_SIZE=100
MTG_MAX_RETRIES=3
MTG_RETRY_DELAY=1000 # Milliseconds

# Caching Options for MTG Sources
MTG_CACHE_ENABLED=true
MTG_CACHE_TTL=3600 # Seconds (e.g., 1 hour)
MTG_CACHE_MAX_SIZE=10000 # Max number of items in cache

# Logging Options for MTG Sources
MTG_LOG_LEVEL=info # (error, warn, info, http, verbose, debug, silly)
MTG_LOG_TO_FILE=false
MTG_LOG_FILE_PATH=./logs/mtg-data.log
# -----------------------------------------------------------------------------

# API Versioning
API_PREFIX=/api/v1

# Feature Flags
FEATURE_MAINTENANCE_MODE=false
FEATURE_ANALYTICS=true
FEATURE_MTG_SYNC=true
FEATURE_PRICE_SYNC=true
